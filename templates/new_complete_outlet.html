<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>New Complete Applications Table</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
<link rel="stylesheet" href="{{ url_for('static', filename='style2.css') }}">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
		integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  body {
    background: #f9fafb;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  h2 {
    font-weight: 500;
    color: #222;
  }
  .container {
    max-width: 1100px;
  }
.topbar {  padding-bottom: 0px;    margin-bottom: 20px;}
  /* Table Styling */
  #completeSurveyTable_wrapper {
    background: white;
    padding: 15px;
    border-radius: 1rem;
    box-shadow: 0 8px 24px rgb(0 0 0 / 0.1);
  }
  #completeSurveyTable thead th { width: 390px;
    font-weight: 700;
    color: #3a3f51;
    border-bottom: 3px solid #dee2e6;
    /* text-transform: uppercase;
    letter-spacing: 0.05em; */
  }
  li.paginate_button.page-item.active a {
    background: #bf0101;
    border-color: #bf0101;
}
li.paginate_button.page-item a {
    font-size: 14px !important;
    font-weight: 500;
}
  .table {    position: relative;
    top: 5px;
    font-size: 14px;    height: 300px;
    overflow: scroll;
    display: block;
}
  #completeSurveyTable tbody tr {
    transition: background-color 0.25s ease;
  }
  #completeSurveyTable tbody tr:hover {
    background-color: #f0f4f8;
    cursor: pointer;
  }
  #completeSurveyTable tbody td {
    vertical-align: middle;
    color: #555;
  }
  .action-buttons .btn-sm {
  padding: 0.2rem 0.5rem;
  font-size: 0.75rem;    background-color: #bf0101;
}
  /* Buttons container */
  .action-buttons {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  /* Button Styling */
  .btn-sm {
    font-size: 0.85rem;
    border-radius: 0.5rem;
    padding: 0.35rem 0.75rem;
    font-weight: 600;
    box-shadow: 0 3px 6px rgb(0 0 0 / 0.1);
    transition: transform 0.15s ease, box-shadow 0.15s ease;
  }
  .btn-sm i {
    margin-right: 0.4rem;
  }
  .btn-primary {
    background-color: #556ee6;
    border: none;
  }
  .btn-primary:hover {
    background-color: #4058c0;
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgb(69 105 255 / 0.4);
  }
  .btn-success {
    background-color: #34c38f;
    border: none;
  }
  .btn-success:hover {
    background-color: #28a773;
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgb(52 195 143 / 0.4);
  }

  /* DataTables search box styling */
  .dataTables_filter input {
    border-radius: 0.5rem;
    border: 1px solid #ced4da;
    padding: 0.375rem 0.75rem;
    width: 250px;
    transition: box-shadow 0.3s ease;
  }
  .dataTables_filter input:focus {
    box-shadow: 0 0 8px #556ee6;
    border-color: #556ee6;
    outline: none;
  }
</style>
</head>
<body>
      <div class="dashboard">
		<!-- Sidebar -->
		<aside class="sidebar" id="sidebar">
			<button id="closeBtn" aria-label="Close Menu">&times;</button>
			<img src="{{ url_for('static', filename='slmg-logo-white.png') }}" alt="SLMG Logo" title="SLMG"
				style="width:100%;" />
			<a href="{{ url_for('user_dashboard') }}">Dashboard</a>
			<a href="{{ url_for('outlet_survey') }}">Outlet Survey</a>
			<a href="{{ url_for('complete_survey') }}">All Completed</a>
			<a class="active" href="{{ url_for('new_complete_outlet') }}">New Complete Outlet List</a>
			<a href="{{ url_for('logout') }}">Logout</a>
			<div class="side-footer-img">
				<img src="{{ url_for('static', filename='bottle-logo.webp') }}" alt="SLMG Logo" title="SLMG" />
			</div>
		</aside>


		<!-- Overlay -->
		<div class="overlay" id="overlay"></div>
		<section class="outer-container">
			<!-- Main Content -->
			<main class="main-content">
				<!-- Topbar -->
				<header class="topbar">
					<!-- Welcome Banner -->
					<div class="content">
						<h1>New Complete Applications </h1>
					</div>
					<!-- Hamburger Icon -->
					<div class="hamburger" id="hamburger" aria-label="Open Menu" role="button" tabindex="0">
						<div></div>
						<div></div>
						<div></div>
					</div>
        </header>

        <!-- <h2 class="mb-4">New Complete Applications</h2> -->
        <table id="completeSurveyTable" class="table table-hover table-bordered" style="width:100%">
          <thead class="table-light">
            <tr>
              <th>Transaction ID</th>
              <th>Status</th>
              <th>Outlet Name</th>
              <th>Phone No</th>
              <th>Address</th>
              <th>Distributor Code</th>
              <th>Distributor Name</th>
              <th>Action</th>
            </tr>
          </thead>
      <tbody>
        {% for row in rows %}
        <tr>
          <td>{{ row.TRANSACTIONS_ID }}</td>
          <td>
            {% if row.STATUS == 'COMPLETE' %}
              <span class="badge bg-success">COMPLETE</span>
            {% else %}
              <span class="badge bg-warning">{{ row.STATUS }}</span>
            {% endif %}
          </td>
          <td>{{ row.OUTLET_NAME }}</td>
          <td>{{ row.OUTLET_MOBILE }}</td>
          <td>{{ row.OUTLET_ADDRESS }}</td>
          <td>{{ row.DISTRIBUTOR_CODE }}</td>
          <td>{{ row.DISTRIBUTOR_NAME }}</td>
          <td>
            <div class="action-buttons">
              <a href="{{ url_for('new_view_data', transaction_id=row.TRANSACTIONS_ID) }}" class="btn-view btn btn-sm btn-primary" target="_blank">View Data</a>
              <!-- <a href="{{ url_for('new_generate_pdf', transaction_id=row.TRANSACTIONS_ID) }}" class="btn btn-success btn-sm" target="_blank"><i class="fa fa-file-pdf"></i>Complete PDF</a> -->
            </div>
          </td>
        </tr>
        {% endfor %}
      </tbody>
        </table>
       

<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
<script>
  $(document).ready(function () {
    $('#completeSurveyTable').DataTable({
      responsive: true,
      autoWidth: false,
      lengthMenu: [5, 10, 25, 50],
      pageLength: 10,
      language: {
        search: "_INPUT_",
        searchPlaceholder: "Search records..."
      }
    });
  });
//hamburger script start
const hamburger = document.getElementById('hamburger');
		const sidebar = document.getElementById('sidebar');
		const overlay = document.getElementById('overlay');
		const closeBtn = document.getElementById('closeBtn');

		function openSidebar() {
			sidebar.classList.add('show');
			overlay.classList.add('show');
		}

		function closeSidebar() {
			sidebar.classList.remove('show');
			overlay.classList.remove('show');
		}

		hamburger.addEventListener('click', openSidebar);
		closeBtn.addEventListener('click', closeSidebar);
		overlay.addEventListener('click', closeSidebar);

		// Keyboard accessibility for hamburger
		hamburger.addEventListener('keydown', function (e) {
			if (e.key === 'Enter' || e.key === ' ') {
				e.preventDefault();
				openSidebar();
			}
		});

		// Keyboard accessibility for close button
		closeBtn.addEventListener('keydown', function (e) {
			if (e.key === 'Enter' || e.key === ' ') {
				e.preventDefault();
				closeSidebar();
			}
		});


</script>
</body>
</html>
